#include <bits/stdc++.h>
using namespace std;

int main(){
  string S;
  int n;
  cin >> S >> n;
  int act[1000];
  for(int i = 0; i < n; i++) {
    cin >> act[i]; //操作
    string Sfront = "", Sback = "";
    if(act[i] == 0) { //兩兩交換
      for(int j = 0; j < S.length(); j++) {
        if(j % 2 ==0) swap(S[j], S[j+1]);
      }
    }
    else if(act[i] == 1) {//兩兩排序
      for(int j = 0; j < S.length(); j++) {
        if(j % 2 ==0 && S[j] > S[j+1]) swap(S[j], S[j+1]);
      }
    }
    else {//完美重排
      for(int j = 0; j < S.length(); j++) { //分前後半
        if(j < S.length()/2) Sfront += S[j];
        else Sback += S[j];
      }
      int len = S.length();
      S = "";
      for(int j = 0; j < len/2; j++) { S += Sfront[j]; S += Sback[j]; } //新字串變身      
    }
  }
  cout << S;
  return 0;
}
